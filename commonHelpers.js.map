{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n    \n\nconst options = {\n    key: '44940230-793e0fb44ed42533ed2f4cfc1',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n}\n\nexport function onSearchPhotoFromText(query) {\n\n\n    \n    const URL = `https://pixabay.com/api/?key=${options.key}&q=${query}&image_type=${options.image_type}&orientation=${options.orientation}&safesearch=${options.safesearch}`;\n    return fetch(URL)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(res.status)\n            }\n            return res.json();\n        });\n}\n\nexport function OnShowError() {\n    iziToast.error({\n    title: 'Error',\n    backgroundColor: '#ef4040',\n    message:\n      'Sorry, there are no images matching </br> your search query. Please, try again!',\n    messageColor: '#fff',\n    messageSize: '16px',\n    position: 'topRight',\n});\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst allGallery = document.querySelector('.js-markup-list');\n\n\nlet userDataLog = new SimpleLightbox('.js-markup-list a', {\n  captions: true,\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nexport function onCreateMarkup(photo) {\n  return photo.map(\n    ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n\n\n      return `\n        <li class=\"gallery-item\">\n          <div class=\"list\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\" \n                alt=\"${tags}\"\n              />\n            </a>\n            <ul class=\"adds-list\">\n              <li class=\"info-item\">\n                <p class=\"text-item text-item-name\">Likes</p>\n                <p class=\"text-item\">${likes}</p>\n              </li>\n              <li class=\"info-item\">\n                <p class=\"text-item text-item-name\">Views</p>\n                <p class=\"text-item\">${views}</p>\n              </li>\n              <li class=\"info-item\">\n                <p class=\"text-item text-item-name\">Comments</p>\n                <p class=\"text-item\">${comments}</p>\n              </li>\n              <li class=\"info-item\">\n                <p class=\"text-item text-item-name\">Downloads</p>\n                <p class=\"text-item\">${downloads}</p>\n              </li>\n            </ul>\n          </div>\n        </li>`;\n    }\n  ).join('');\n}\n\nexport function onCreateGalleryPhoto(data) {\n  allGallery.innerHTML = '';\n  allGallery.insertAdjacentHTML('beforeend', onCreateMarkup(data.hits));\n  userDataLog.refresh();\n}\n\nexport function clearGallery() {\n  allGallery.innerHTML = '';\n}","\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { OnShowError, onSearchPhotoFromText } from './js/pixabay-api';\nimport { onCreateGalleryPhoto, clearGallery } from './js/render-functions';\n\nconst cssLoadAnimation = document.querySelector('.loader');\nconst inputQuery = document.querySelector('.my-input');\nconst btnSbm = document.querySelector('.form-btn');\n\nbtnSbm.addEventListener('click', handleClick);\n\nfunction handleClick(evt) {\n  cssLoadAnimation.style.display = 'inline-block';\n  evt.preventDefault();\n\n    let queryData = inputQuery.value.trim().replace(/\\s+/g, '+').toLowerCase();\n\n  if (queryData === \"\") {\n    cssLoadAnimation.style.display = 'none';\n    clearGallery();\n     iziToast.error({\n    title: 'Error',\n    backgroundColor: '#ef4040',\n    message:\n      'Please enter a valid search query.',\n    messageColor: '#fff',\n    messageSize: '16px',\n    position: 'topRight',\n});\n    return;\n  }\n\n  console.log(queryData);\n\n  onSearchPhotoFromText(queryData)\n    .then(data => {\n      cssLoadAnimation.style.display = 'none';\n      // data.totalHits === 0 ? OnShowError(data); : onCreateGalleryPhoto(data);  // Використовуємо onCreateGalleryPhoto\n      if (data.totalHits === 0) {\n        OnShowError();\n        clearGallery();\n        \n      }else{onCreateGalleryPhoto(data)}\n      \n    })\n    .catch(OnShowError)\n    .finally(() => {\n      inputQuery.value = '';\n    });\n}\n"],"names":["options","onSearchPhotoFromText","query","URL","res","OnShowError","iziToast","allGallery","userDataLog","SimpleLightbox","onCreateMarkup","photo","webformatURL","largeImageURL","tags","likes","views","comments","downloads","onCreateGalleryPhoto","data","clearGallery","cssLoadAnimation","inputQuery","btnSbm","handleClick","evt","queryData"],"mappings":"6vBAIA,MAAMA,EAAU,CACZ,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEO,SAASC,EAAsBC,EAAO,CAIzC,MAAMC,EAAM,gCAAgCH,EAAQ,GAAG,MAAME,CAAK,eAAeF,EAAQ,UAAU,gBAAgBA,EAAQ,WAAW,eAAeA,EAAQ,UAAU,GACvK,OAAO,MAAMG,CAAG,EACX,KAAKC,GAAO,CACT,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACvB,CAAS,CACT,CAEO,SAASC,GAAc,CAC1BC,EAAS,MAAM,CACf,MAAO,QACP,gBAAiB,UACjB,QACE,kFACF,aAAc,OACd,YAAa,OACb,SAAU,UACd,CAAC,CACD,CChCA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EAG3D,IAAIC,EAAc,IAAIC,EAAe,oBAAqB,CACxD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEM,SAASC,EAAeC,EAAO,CACpC,OAAOA,EAAM,IACX,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAGrD;AAAA;AAAA;AAAA,4CAG+BL,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMYC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAMhD,EAAI,KAAK,EAAE,CACX,CAEO,SAASC,EAAqBC,EAAM,CACzCb,EAAW,UAAY,GACvBA,EAAW,mBAAmB,YAAaG,EAAeU,EAAK,IAAI,CAAC,EACpEZ,EAAY,QAAO,CACrB,CAEO,SAASa,GAAe,CAC7Bd,EAAW,UAAY,EACzB,CCtDA,MAAMe,EAAmB,SAAS,cAAc,SAAS,EACnDC,EAAa,SAAS,cAAc,WAAW,EAC/CC,EAAS,SAAS,cAAc,WAAW,EAEjDA,EAAO,iBAAiB,QAASC,CAAW,EAE5C,SAASA,EAAYC,EAAK,CACxBJ,EAAiB,MAAM,QAAU,eACjCI,EAAI,eAAc,EAEhB,IAAIC,EAAYJ,EAAW,MAAM,KAAI,EAAG,QAAQ,OAAQ,GAAG,EAAE,cAE/D,GAAII,IAAc,GAAI,CACpBL,EAAiB,MAAM,QAAU,OACjCD,IACCf,EAAS,MAAM,CAChB,MAAO,QACP,gBAAiB,UACjB,QACE,qCACF,aAAc,OACd,YAAa,OACb,SAAU,UACd,CAAC,EACG,MACD,CAED,QAAQ,IAAIqB,CAAS,EAErB1B,EAAsB0B,CAAS,EAC5B,KAAKP,GAAQ,CACZE,EAAiB,MAAM,QAAU,OAE7BF,EAAK,YAAc,GACrBf,IACAgB,KAEIF,EAAqBC,CAAI,CAErC,CAAK,EACA,MAAMf,CAAW,EACjB,QAAQ,IAAM,CACbkB,EAAW,MAAQ,EACzB,CAAK,CACL"}